{
    "id": "c7981d2d.003de8",
    "label": "Send Push Message",
    "nodes": [
        {
            "id": "98be619b.6bb138",
            "type": "inject",
            "z": "c7981d2d.003de8",
            "name": "Start Workflow",
            "topic": "",
            "payload": "",
            "payloadType": "str",
            "repeat": "",
            "crontab": "",
            "once": false,
            "x": 140,
            "y": 180,
            "wires": [
                [
                    "c9d8931b.f59fe"
                ]
            ]
        },
        {
            "id": "c9d8931b.f59fe",
            "type": "template",
            "z": "c7981d2d.003de8",
            "name": "Input XML as Template",
            "field": "payload",
            "fieldType": "msg",
            "format": "handlebars",
            "template": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<admira version=\"2.2.0\" type=\"variables\">\n    <properties id=\"template_variables\">\n        <param name=\"file\">.mxf</param>\n        <param name=\"path\">/import/src1/</param>\n        <param name=\"filename\">video.mp4</param>\n    </properties>\n</admira>",
            "x": 326,
            "y": 81,
            "wires": [
                [
                    "a9c5c529.778518"
                ]
            ]
        },
        {
            "id": "751f2ba3.7f461c",
            "type": "job_end",
            "z": "c7981d2d.003de8",
            "includeparameters": true,
            "eojtag": "",
            "x": 1573,
            "y": 337,
            "wires": [
                [
                    "4f04c4a7.bbfc8c",
                    "35275ae0.8c8166"
                ]
            ]
        },
        {
            "id": "4f04c4a7.bbfc8c",
            "type": "debug",
            "z": "c7981d2d.003de8",
            "name": "",
            "active": true,
            "console": "false",
            "complete": "false",
            "x": 1792,
            "y": 246,
            "wires": []
        },
        {
            "id": "ceee4c9d.a8bee8",
            "type": "subflow:3034f64e.09f3d2",
            "z": "c7981d2d.003de8",
            "name": "",
            "x": 825.5,
            "y": 637.5,
            "wires": [],
            "subflow": "3034f64e.09f3d2"
        },
        {
            "id": "7c1b495.6a20838",
            "type": "flow-reader",
            "z": "c7981d2d.003de8",
            "name": "Save Flow to GitHub",
            "protocol": "http",
            "url": "127.0.0.1:1880",
            "sheet": "Send Push Message",
            "auth": false,
            "once": false,
            "x": 206,
            "y": 634,
            "wires": [
                [
                    "8bc7e1d1.bbfa6"
                ]
            ]
        },
        {
            "id": "8bc7e1d1.bbfa6",
            "type": "function",
            "z": "c7981d2d.003de8",
            "name": "Set commit message",
            "func": "// the commit message has to be enclosed in \" and \\\"\n\nmsg.commit = \"\\\"my commit message 3\\\"\";\n\nreturn msg;",
            "outputs": 1,
            "noerr": 0,
            "x": 513,
            "y": 640,
            "wires": [
                [
                    "ceee4c9d.a8bee8"
                ]
            ]
        },
        {
            "id": "35275ae0.8c8166",
            "type": "job_send",
            "z": "c7981d2d.003de8",
            "holdjob": true,
            "url": "http://arema.media.ibmcloud.com:9090",
            "system": "admira",
            "user": "dmae",
            "password": "pw4Ar3.mA",
            "encrypted": false,
            "x": 1791,
            "y": 370,
            "wires": [
                [
                    "ff5a0409.0975a8"
                ]
            ]
        },
        {
            "id": "ff5a0409.0975a8",
            "type": "debug",
            "z": "c7981d2d.003de8",
            "name": "",
            "active": true,
            "console": "false",
            "complete": "false",
            "x": 2031,
            "y": 381,
            "wires": []
        },
        {
            "id": "e0ec2965.bc913",
            "type": "external_command",
            "z": "c7981d2d.003de8",
            "nop": true,
            "name": "send_push_message",
            "title": "Send push message to Bluemix for AREMA Event App",
            "exec_name": "/home/dmae/admira/bin/ec_send_push_message",
            "source_filenames": "",
            "target_filenames": "",
            "additional_parameters": "0815[Sep]Title of Push Message[Sep]This is a detailed workflow push message[Sep]workflow",
            "org_unit": "admira",
            "chmod_file": "",
            "hold_in_cache": "",
            "parameters": [],
            "x": 1255.5,
            "y": 247,
            "wires": [
                [
                    "751f2ba3.7f461c"
                ]
            ]
        },
        {
            "id": "caeae2a6.f535f",
            "type": "comment",
            "z": "c7981d2d.003de8",
            "name": "external_command Parameter",
            "info": "jobid=$1\nmessage_title=$2\nmessage_detail=$3\nmessage_type=$4\n\n1323 \" Job is finished with error\" \"Job 1323 is finished with error.\" error",
            "x": 1130,
            "y": 344,
            "wires": []
        },
        {
            "id": "db50714b.61da1",
            "type": "job_vars",
            "z": "c7981d2d.003de8",
            "variables": [
                {
                    "k": "myvar_1",
                    "v": "test1"
                },
                {
                    "k": "myvar_2",
                    "v": "test2"
                }
            ],
            "x": 748.5,
            "y": 200,
            "wires": [
                [
                    "f39d2555.5166d8"
                ]
            ]
        },
        {
            "id": "a9c5c529.778518",
            "type": "job_start",
            "z": "c7981d2d.003de8",
            "name": "push_message",
            "title": "Send Push Message",
            "jobtype": "push_message",
            "priority": "500",
            "starttime": "",
            "startbatch": "",
            "endbatch": "",
            "searchTag1": "",
            "searchTag2": "",
            "searchTag3": "",
            "searchTagInt1": "",
            "searchTagInt2": "",
            "searchTagInt3": "",
            "searchTagDate1": "",
            "searchTagDate2": "",
            "searchTagDate3": "",
            "x": 542.5,
            "y": 149,
            "wires": [
                [
                    "db50714b.61da1"
                ]
            ]
        },
        {
            "id": "f39d2555.5166d8",
            "type": "determine_metadata",
            "z": "c7981d2d.003de8",
            "nop": false,
            "name": "analyze",
            "title": "Determine metadata of myfile.mxf",
            "filename": "myfile.mxf",
            "org_unit": "admira",
            "x": 941,
            "y": 216,
            "wires": [
                [
                    "e0ec2965.bc913"
                ]
            ]
        }
    ]
}

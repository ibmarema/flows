[{"type":"tab","label":"Send Push Message","id":"3d0ee685.c2f11a"},{"id":"7220e09f.c2de08","type":"github-credentials","z":"","name":"ibmarema"},{"id":"cd82bc7.3cf4c4","type":"inject","z":"3d0ee685.c2f11a","name":"Start Workflow","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":140,"y":180,"wires":[["9e1c610f.16f12"]]},{"id":"9e1c610f.16f12","type":"template","z":"3d0ee685.c2f11a","name":"Input XML as Template","field":"payload","fieldType":"msg","format":"handlebars","template":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<admira version=\"2.2.0\" type=\"variables\">\n    <properties id=\"template_variables\">\n        <param name=\"file\">.mxf</param>\n        <param name=\"path\">/import/src1/</param>\n        <param name=\"filename\">video.mp4</param>\n    </properties>\n</admira>","x":326,"y":81,"wires":[["91fdaf37.e606e8"]]},{"id":"91fdaf37.e606e8","type":"job_start","z":"3d0ee685.c2f11a","name":"push_demo","title":"Send a push message","priority":"500","searchTag1":"","searchTag2":"","searchTag3":"","searchTagInt1":"123","searchTagInt2":"123","searchTagInt3":"123","searchTagDate1":"2016-03-12T10:10:10","searchTagDate2":"2016-03-12T10:10:10","searchTagDate3":"2016-03-12T10:10:10","x":490,"y":180,"wires":[["304fc19d.0476c6"]]},{"id":"304fc19d.0476c6","type":"job_vars","z":"3d0ee685.c2f11a","variables":[{"k":"push_msg_title","v":"This is my push title"},{"k":"Push_msg_detail","v":"This is my push detail"}],"x":700,"y":180,"wires":[["93046f20.39c57"]]},{"id":"47261151.4a7c28","type":"job_end","z":"3d0ee685.c2f11a","includeparameters":true,"x":1180,"y":300,"wires":[["25cb82a6.7b48ce"]]},{"id":"25cb82a6.7b48ce","type":"debug","z":"3d0ee685.c2f11a","name":"","active":true,"console":"false","complete":"false","x":1370,"y":300,"wires":[]},{"id":"93046f20.39c57","type":"external_command","z":"3d0ee685.c2f11a","name":"Send_Push_Message","title":"Send a Push Message to the AREMA Event App","exec_name":"/home/dmae/admira/bin/ec_send_push_message","source_filenames":"","target_filenames":"","additional_parameters":"$push_msg_title","org_unit":"admira","chmod_file":"","hold_in_cache":"no","x":940,"y":220,"wires":[["47261151.4a7c28"]]},{"id":"29395e55.dd2bd2","type":"debug","z":"3d0ee685.c2f11a","name":"","active":true,"console":"false","complete":"flowid","x":664,"y":842,"wires":[]},{"id":"4c6844a0.4af9f4","type":"flow-reader","z":"3d0ee685.c2f11a","name":"Save Flow to GitHub","protocol":"http","url":"127.0.0.1:1880","sheet":"Send Push Message","auth":false,"once":false,"x":174,"y":682,"wires":[["2e07c9b9.b708be","a0a82953.ff2678"]]},{"id":"23f7fd76.e4c7da","type":"github-repo","z":"3d0ee685.c2f11a","github":"7220e09f.c2de08","name":"Commit","username":"ibmarema","usernameType":"str","repository":"flows","repositoryType":"str","action":"write","branch":"master","branchType":"str","path":"filename","pathType":"msg","pathto":"","pathtoType":"str","contents":"payload","contentsType":"msg","outputs":"0","x":654,"y":762,"wires":[]},{"id":"a0a82953.ff2678","type":"function","z":"3d0ee685.c2f11a","name":"Set Filename","func":"msg.filename = \"/home/dmae/git/\" + msg.payload[0].label.replace(\" \",\"_\") + \".json\";\nmsg.flowid = msg.payload[0].id;\n\nreturn msg;\n","outputs":1,"noerr":0,"x":424,"y":682,"wires":[["29395e55.dd2bd2","b9bf9819.ae048","a419c164.649a1","23f7fd76.e4c7da"]]},{"id":"2e07c9b9.b708be","type":"debug","z":"3d0ee685.c2f11a","name":"","active":false,"console":"false","complete":"false","x":424,"y":842,"wires":[]},{"id":"b9bf9819.ae048","type":"debug","z":"3d0ee685.c2f11a","name":"","active":true,"console":"false","complete":"filename","x":664,"y":902,"wires":[]},{"id":"a419c164.649a1","type":"file","z":"3d0ee685.c2f11a","name":"Save Flow as File","filename":"","appendNewline":true,"createDir":false,"overwriteFile":"true","x":690,"y":620,"wires":[]}]
